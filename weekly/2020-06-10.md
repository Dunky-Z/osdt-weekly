# OSDT Weekly 2020-06-10 第049期

点击【查看原文】可以跳转到GitHub上本仓库的地址，就可以进行URL的跳转了。

### 近期线下活动

下一次聚会计划是 LLVM + RISC-V 主题。目前正在征集技术分享话题，欢迎报名来分享自己的工作。目前计划是线上。

同时我们欢迎场地支持和赞助。欢迎有志同道合的小伙伴联系我们。

## 编译社区的八卦信息

### GCC

- AArch64 SLS 安全漏洞 GCC workaround
  Straight Line Speculation (SLS) mitigation.
  https://gcc.gnu.org/pipermail/gcc-patches/2020-June/547520.html

- AArch64 GCC改进8.3 Pointer Authentication支持，避免指针泄露
  [PATCH 0/4] aarch64: avoid exposing signed return addresses [PR94891]
  https://gcc.gnu.org/pipermail/gcc-patches/2020-June/547402.html

- Codesourcery发出OpenACC Fortran改进
  [PATCH 0/3] OpenACC "exit data" copyout, and Fortran derived-type members
  https://gcc.gnu.org/pipermail/gcc-patches/2020-June/547300.html

- 关于VEC_COND_EXPR的深度讨论
  [stage1][PATCH] Lower VEC_COND_EXPR into internal functions.
  https://gcc.gnu.org/pipermail/gcc-patches/2020-June/547067.html

- Erick Ochoa的过程间优化改进被否了
  [patch 0/5] ipa-initcall-cp
  https://gcc.gnu.org/pipermail/gcc-patches/2020-June/547084.html

- Kewen.Lin的IVOPT优化引发持续讨论
  [PATCH 0/4] IVOPTs consider step cost for different forms when unrolling
  https://gcc.gnu.org/pipermail/gcc-patches/2020-June/547180.html

### Binutils/GDB

- H.J.Lu和Alan关于IFUNC实现的讨论
  [PATCH] IFUNC: Update IFUNC resolver check with DT_TEXTREL
  https://sourceware.org/pipermail/binutils/2020-June/111605.html

- [PATCH 0/5] x86: (mainly) insn prefix decoding adjustments
  https://sourceware.org/pipermail/binutils/2020-June/111579.html

- [PATCH V2 0/3] Improve insn endianness support in CGEN ports
  https://sourceware.org/pipermail/binutils/2020-June/111420.html

- [PATCH 0/6] gas/x86: adjustments to register handling
  https://sourceware.org/pipermail/binutils/2020-June/111453.html

- [PATCH] x86: drop SSE4a from SSE check again
  https://sourceware.org/pipermail/binutils/2020-June/111618.html

- TUI enhancement suggestion.
  https://sourceware.org/pipermail/gdb-patches/2020-June/169336.html

### GLIBC

- [PATCH v2 00/18] glibc port for 32-bit RISC-V (RV32)
  https://sourceware.org/pipermail/libc-alpha/2020-June/114675.html

- [PATCH v2] aarch64: MTE compatible strchrnul
  https://sourceware.org/pipermail/libc-alpha/2020-June/114821.html

- [PATCH][AArch64] Merge Falkor memcpy and memmove
  https://sourceware.org/pipermail/libc-alpha/2020-June/114901.html

### LLVM/Clang/LLDB/LLD

本节内容来自 [LLVM Weekly 第336期](http://llvmweekly.org/issue/336)，
[Alex Bradbury](https://www.linkedin.com/in/alex-bradbury/) 大哥持续稳定输出。

ALIVE2 还在贡献力量。不过吐槽下ALIVE这个工具的名字，对搜索引擎太不友好了，搜索不到。

> Nuno P Lopes and John Regehr have authored a new blog post on [tracking miscompilations in LLVM using its own unit tests](https://blog.regehr.org/archives/1737), which makes use of Alive2.


Clang跟LLVM之间的一些代码的重构工作，引发了比较长的讨论：

* Andrzej Warzynsk started an RFC thread on non-trivial refactoring to[move some Clang frontend/driver/diagnostics code to LLVM](http://lists.llvm.org/pipermail/llvm-dev/2020-June/141994.html).
This would allow reuse by Flang. Hanna Kruppe fed back that [the refactoring was unlikely to result in reuse by Rust](http://lists.llvm.org/pipermail/llvm-dev/2020-June/142004.html).
Richard Smith shared some [detailed thoughts on the challenges of reusing some of this code outside of Clang](http://lists.llvm.org/pipermail/llvm-dev/2020-June/142024.html).
Chris Lattner [suggests](http://lists.llvm.org/pipermail/llvm-dev/2020-June/142054.html) that Clang moving to MLIR for code generation is a path forwards for factoring ABI lowering out of Clang.
This thread split off to a [new sub-thread on fixing the function-ABI interface between Clang and LLVM](http://lists.llvm.org/pipermail/llvm-dev/2020-June/142055.html).

这个改动可能会导致关联的自动化脚本要修改下：

* Lit will now just report "Passed" and "Failed" rather than "Expected Passes" and "Unexpected Failures". [99d6e05](https://reviews.llvm.org/rG99d6e05e714).

LLVM版本的 libc 继续完善，添加了几个新函数：

* LLVM's libc gained implementations of ceil(f), floor(f), and trunc(f). [1caedd0](https://reviews.llvm.org/rG1caedd0c550).

* A muldi3 assembly implementation was added to compiler-rt for RISC-V. [e31ccee](https://reviews.llvm.org/rGe31ccee1b01).


### RISC-V in China

- 平头哥开源了自己实现的 RVV GCC 版本，包含了自己设计的 intrinsics。

git clone https://github.com/c-sky/gcc.git -b gcc-9-rvv

（注意分支是 `gcc-9-rvv`）

- 同时PLCT的 RVV LLVM 版本还在追逐实现 EPI、SiFive 等提出的 intrinsics 版本：

https://github.com/isrc-cas/rvv-llvm

- 平头哥玄铁处理器Linux新版本，5大亮点速览
为了便于 CPU 评估，系统集成，快速上手玄铁处理器 Linux 操作系统，平头哥更新了玄铁处理器 linux 版本，结合 gitlab 开源 CI/CD 系统，对已发布到开源社区的玄铁架构 CPU 相关的生态软件形成持续保障。

https://mp.weixin.qq.com/s/ojcNECdZmHIwervQRfluLA

- PLCT实验室发布了《PLCT开源进展》第02期，介绍了在V8、RVV、Clang、方舟编译器、QEMU等领域的进展。

https://zhuanlan.zhihu.com/p/145164652

- lazyparser 分享了 《将AOSP移植到RISC-V平台：有多难?》的幻灯片，分析了将安卓生态适配到RISC-V平台需要的工作内容和能力。并号召大家一起联合起来贡献。

https://github.com/lazyparser/talks/blob/master/slides/20200603-AOSP-RISCV-Porting-Survey.pdf

- SiFive公司、AndesTech、芯来科技的线上免费RISC-V培训还在持续进行。

### TVM 社区

风平浪静。

### Mozilla

风平浪静。新的 Firefox 版本正常发布。

### 方舟开源编译器社区

OpenArkCompiler Weekly - #13 May 31st 2020

社区动态：

1、方舟编译器社区在5月27日上午举行了会议。会议纪要如下：
社区版：https://gitee.com/harmonyos/OpenArkCompiler/issues/I1IN42

Commits:

1、更新了关于LLVM/Clang工具链的配置信息，包含文档及配置文件中的内容（主要是更改了引用工具链名称为默认的名称，方便配置）：
https://gitee.com/harmonyos/OpenArkCompiler/commit/c8f9b4d079f2ea762be2eda982a280b266865efd

2、为测试框架添加fail-verbose参数：
https://gitee.com/harmonyos/OpenArkCompiler/commit/68cadf071f3a2c470de73790451d0075293257e6

3、为源码编译cflags_cc添加AARCH64参数：
https://gitee.com/harmonyos/OpenArkCompiler/commit/cbe25bb99f0482ef6f09fcb28cd6bd4459985dc5

4、后端O2代码开源:
https://gitee.com/harmonyos/OpenArkCompiler/commit/52a8ea04e9588b03f67b422aabd7ea82d1a40596

### 其它社区的 Weekly

欢迎感兴趣的小伙伴提 Pull Requests 完善内容❤️
我们希望能够尽可能多的扩展下OSDT的覆盖范围。

本周都更新了 ;-)

This Week in Rust #341:
https://this-week-in-rust.org/blog/2020/06/02/this-week-in-rust-341/

Golang Weekly #315:
https://golangweekly.com/issues/315

WebAssembly Weekly #120:
https://wasmweekly.news/issue-120/

最近更新的都（不怎么）规律 ：）

### Academic

风平浪静

### 本周工具链岗位

远程实习机会： [PLCT实验室招聘编译器/虚拟机/IDE开发实习生](https://mp.weixin.qq.com/s/bVaNK2kVGstnZ6Onkc98zQ)

同时，开放了面向开源基础软件的 Code Analyst 岗位：
https://github.com/isrc-cas/PLCT-Weekly/blob/master/interns.md

西安，海飞科(Hexaflake)委托OSDT发布了新的岗位，感兴趣的小伙伴可以看本批次推送的招聘页。

## 本周推荐阅读

本周推荐：《》
